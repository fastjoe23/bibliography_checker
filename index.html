<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Literaturverzeichnis-Checker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ğŸ“„ Literaturverzeichnis prÃ¼fen</h1>
    <p style="font-size:20px;">Dieser <b>Prototyp</b> dient dazu, Literaturverzeichnisse aus PDF-Dokumenten zu extrahieren und auf ihre Richtigkeit zu Ã¼berprÃ¼fen.</p>
    <details style="margin-bottom: 1em;">
        <summary style="cursor: pointer; ">â„¹ï¸ ErklÃ¤rung zum Prototypen anzeigen</summary>
  <p>Dieser Prototyp besteht aus mehreren Schritten, um Literaturverzeichnisse aus PDF-Dokumenten automatisch zu extrahieren und deren Quellen auf VerfÃ¼gbarkeit und GÃ¼ltigkeit zu prÃ¼fen:</p>

  <ol>
    <li><strong>PDF-Text extrahieren:</strong>  
      Mittels <code>pdf.js</code> wird aus dem hochgeladenen PDF-Dokument der Text extrahiert. Am besten nur das Literaturverzeichnis hochladen.</li>
    <li><strong>Referenzen extrahieren:</strong>  
      Der extrahierte Text wird an ein Large Language Model (LLM) gesendet, genauer an das Modell <code>mistral-small-3.2-24b-instruct</code>. Dieses verarbeitet den Text und gibt ein strukturiertes JSON mit den einzelnen Literaturverweisen zurÃ¼ck, das Titel, Autoren, Jahr, Verlag, DOI oder URLs enthÃ¤lt (siehe unten Details).</li>
    <li><strong>PrÃ¼fung der Referenzen:</strong>  
      FÃ¼r jeden Eintrag wird der Status geprÃ¼ft, um festzustellen, ob die Quelle erreichbar und gÃ¼ltig ist. Der PrÃ¼fprozess erfolgt hierarchisch:  
      <ul>
        <li>Existiert eine DOI, wird diese per Crossref validiert.</li>
        <li>Ist keine DOI vorhanden, aber eine URL, wird diese ebenfalls per HTTP-Request geprÃ¼ft.</li>
        <li>Fehlen DOI und URL, erfolgt eine Suche Ã¼ber externe Dienste, beginnend mit <code>Google Books</code>, dann <code>Crossref</code> und zuletzt <code>OpenAlex</code>, um die Existenz der Quelle anhand von Autor, Titel und Jahr zu verifizieren.</li>
      </ul>  
      So erhalten Sie fÃ¼r jede Referenz eine Statusanzeige, die Ihnen hilft, fehlerhafte oder nicht auffindbare Quellen schnell zu erkennen.</li>
  </ol>

  <p>Die Statusangaben sind interaktiv: Sie werden nach dem Laden des PDFs schrittweise aktualisiert, sodass Sie sofort eine Ãœbersicht haben und die PrÃ¼fung parallel im Hintergrund erfolgt.</p>
    </details>
    <h2>ğŸ”‘ API-SchlÃ¼ssel eingeben</h2>
    <p>Sie mÃ¼ssen zuerst Ihren OpenRouter API-SchlÃ¼ssel eingeben, um die Analyse durchzufÃ¼hren.</p>
    <label for="apiKey">OpenRouter API Key:</label>
    <input type="password" id="apiKey" placeholder="sk-..." style="width: 300px;">
    <button onclick="saveApiKey()">Speichern</button>
    <p>Der API-SchlÃ¼ssel wird lokal gespeichert und ist nur fÃ¼r diese Sitzung verfÃ¼gbar. AnschlieÃŸend kÃ¶nnen Sie ein PDF-Dokument hochladen.</p>
    <h2>ğŸ“¥ PDF-Dokument hochladen</h2>
    <input type="file" id="pdf-upload" accept=".pdf">
    <p id="status">Bitte ein PDF mit Literaturverzeichnis hochladen.</p>

    <h3>ğŸ“š Extrahierte Literaturverweise</h3>
    <table id="results-table">
        <thead>
            <tr>
            <th>Status</th>
            <th>Titel</th>
            <th>Autor(en)</th>
            <th>Jahr</th>
            <th>Verlag</th>
            <th>DOI / URL</th>
            </tr>
        </thead>
        <tbody id="results-body">
            <!-- Dynamisch generierte Zeilen kommen hierhin -->
        </tbody>
    </table>
    <p>Details</p>
    <details>
        <summary>ğŸ”Json-Rohdaten anzeigen</summary>
        <pre style="background: #f0f0f0; padding: 1em; border-radius: 5px;" id="jsonBlock"></pre>
    </details>
    <script src="libs/pdf.js"></script>
    <script src="script.js"></script>
</body>
</html>
